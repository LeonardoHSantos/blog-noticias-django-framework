{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1213055446875408"
     crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-adsense-account" content="ca-pub-1213055446875408">
    <meta name="description" content="Notícias atualizadas sobre o mercado financeiro, análises de tendências econômicas e charges criadas por IA sobre os principais acontecimentos do setor. Fique por dentro das novidades e visualizações únicas!">
    <meta name="keywords" content="notícias mercado financeiro, economia, análises financeiras, charges IA, inteligência artificial, imagens criadas por IA, tendências econômicas, visualizações financeiras">
    <title>{% block title %}{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'css/painel_metrics_posts.css' %}">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="{% static 'css/posts.css' %}">
    <link rel="stylesheet" href="{% static 'css/post.css' %}">
    <link rel="stylesheet" href="{% static 'css/popups.css' %}">
    <link rel="stylesheet" href="{% static 'css/post_tools.css' %}">

    <link rel="icon" href="/media/images/favicon.png" sizes="192x192">

    <link rel="preconnect" href="https://cdnjs.cloudflare.com">

    <link href="{% static 'fontawesomefree/css/fontawesome.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'fontawesomefree/css/brands.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'fontawesomefree/css/solid.css' %}" rel="stylesheet" type="text/css">
    
</head>
<body>
    
    {% include 'snippets/navbar/navbar.html' %}
    
    {% block content %}
    {% endblock %}

    {% include 'snippets/footer/footer.html' %}

    <!-- Banner de Cookies -->
    <div id="cookie-banner" style="text-align: center; display: none;">
        <p>Este site usa cookies para melhorar a sua experiência. Ao continuar a navegar, você aceita nossa <a href="{% url 'privacidade' %}" style="color: #d6ff00;">Política de Cookies</a>.</p>
        <button id="accept-cookies" style="background-color: #ffffff; color: #333; padding: 10px 20px; border: none; cursor: pointer;">continuar e fechar</button>
        <!-- <button id="decline-cookies" style="background-color: #f44336; color: white; padding: 10px 20px; border: none; cursor: pointer;">Rejeitar Cookies</button> -->
    </div>
</body>
</html>


<script defer>
    function popupShow(){
        const container_popup = document.querySelector(".container-popup");
        window.scroll(0,0);
        container_popup.classList.add("active");
        document.body.style.overflow = "hidden";
        try {
          document.querySelector(".message-form").textContent = "";
        } catch (error) {console.log(error)}
    }
    function popupClose(){
        const container_popup = document.querySelector(".container-popup");
        document.body.style.overflow = "scroll";
        container_popup.classList.remove("active");
    }

</script>

<script defer>
    // Função para verificar se o usuário já aceitou os cookies
    function checkCookieConsent() {
      // Verificar se o consentimento de cookies foi armazenado no localStorage
      const cookiesAccepted = localStorage.getItem('cookiesAccepted');
      if (!cookiesAccepted) {
        // Se não foi aceito ainda, mostrar o banner de cookies
        document.getElementById('cookie-banner').style.display = 'block';
      }
    }
  
    // Função para aceitar os cookies
    document.getElementById('accept-cookies').onclick = function() {
      // Ocultar o banner de cookies
      document.getElementById('cookie-banner').style.display = 'none';
  
      // Armazenar no localStorage que o usuário aceitou os cookies
      localStorage.setItem('cookiesAccepted', 'true');
  
      // Aqui você pode permitir os cookies de terceiros (por exemplo, configurar o AdSense)
      // Exemplo: ativar scripts relacionados ao Google Analytics ou AdSense
      enableCookies();
    };
  
    // // Função para rejeitar os cookies
    // document.getElementById('decline-cookies').onclick = function() {
    //   // Ocultar o banner de cookies
    //   document.getElementById('cookie-banner').style.display = 'none';
  
    //   // Armazenar no localStorage que o usuário rejeitou os cookies
    //   localStorage.setItem('cookiesAccepted', 'false');
  
    //   // Aqui você pode desativar ou não carregar scripts de terceiros (como AdSense, Analytics, etc.)
    //   disableCookies();
    // };
  
    // Função para ativar cookies (exemplo: Google Analytics ou AdSense)
    function enableCookies() {
      // Exemplo de inclusão do script do Google Analytics ou AdSense, ou ativação de cookies necessários.
      const script = document.createElement('script');
      script.src = 'https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js';
      script.async = true;
      document.head.appendChild(script);
      document.cookie = "cookie_consent=true; path=/; max-age=" + 60 * 60 * 24 * 365; // 1 ano
    }
  
    // Função para desativar cookies (não carregar scripts de terceiros)
    function disableCookies() {
    }
  
    // Verificar se o usuário já fez a escolha e exibir o banner se necessário
    checkCookieConsent();
</script>

<!-- Google tag (gtag.js) -->
<script defer id="gtag-script">
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-CJS2HECV98');
</script>

<script defer>
  // Função para ativar o Google Tag Manager depois do consentimento
  function enableGoogleTagManager() {
    const script = document.createElement('script');
    script.src = "https://www.googletagmanager.com/gtag/js?id=G-CJS2HECV98";
    script.async = true;
    document.head.appendChild(script);
  }

  // Função para ativar os cookies
  function enableCookies() {
    // Aqui você ativa o GTAG e outros serviços como Google Analytics
    enableGoogleTagManager();
  }

  // Verifica o consentimento de cookies do usuário
  document.getElementById('accept-cookies').onclick = function() {
    localStorage.setItem('cookiesAccepted', 'true');
    document.getElementById('cookie-banner').style.display = 'none'; // Ocultar banner
    enableCookies(); // Ativar scripts do Google
  };
</script>